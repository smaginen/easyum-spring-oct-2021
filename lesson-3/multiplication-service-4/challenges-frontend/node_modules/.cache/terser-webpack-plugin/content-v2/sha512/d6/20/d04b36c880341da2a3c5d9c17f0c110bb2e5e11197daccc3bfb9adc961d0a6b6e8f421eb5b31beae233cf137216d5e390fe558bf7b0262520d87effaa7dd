{"map":{"version":3,"sources":["static/js/main.d48b8654.chunk.js"],"names":["this","push","21","module","exports","__webpack_require__","26","27","46","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","defineProperty","classCallCheck","createClass","assertThisInitialized","createSuper","inherits","axios","axios_default","ChallengesApiClient_ChallengesApiClient","ChallengesApiClient","Object","key","value","fetch","SERVER_URL","GET_CHALLENGE","user","a","b","guess","Headers","Authorization","post","POST_RESULT","userAlias","factorA","factorB","headers","Content-Type","Access-Control-Allow-Origin","then","response","json","catch","GET_ATTEMPTS_BY_ALIAS","userIds","GET_USERS_BY_IDS","join","services_ChallengesApiClient","components_LastAttemptsComponent","_React$Component","LastAttemptsComponent","_super","apply","arguments","props","lastAttempts","map","id","style","color","correct","resultAttempt","GameApiClient_GameApiClient","GameApiClient","GET_LEADERBOARD","services_GameApiClient","components_LeaderBoardComponent","LeaderBoardComponent","_this","call","state","leaderboard","serverError","refreshLeaderBoard","setInterval","bind","leaderBoard","lbRes","ok","Promise","reject","getUsers","usRes","lb","setState","_this2","getLeaderBoardData","lbData","row","userId","length","getUserAliasData","data","userMap","Map","forEach","idAlias","set","alias","get","updateLeaderBoard","reason","console","log","totalScore","badges","className","components_ChallengeComponent","ChallengeComponent","message","handleSubmitResult","handleChange","refreshChallenge","challenge","res","updateMessage","event","name","target","_this3","preventDefault","sendGuess","updateLastAttempts","m","_this4","getAttempts","attempts","item","onSubmit","type","maxLength","onChange","min","src_App","createElement","Boolean","window","location","hostname","match","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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"},"code":"(this[\"webpackJsonpchallenges-frontend\"]=this[\"webpackJsonpchallenges-frontend\"]||[]).push([[0],{21:function(e,t,n){e.exports=n(46)},26:function(e,t,n){},27:function(e,t,n){},46:function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n.n(a),l=n(18),s=n.n(l),u=(n(26),n(27),n(19)),o=n(2),c=n(3),i=n(6),h=n(4),m=n(5),d=n(20),E=n.n(d),f=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,null,[{key:\"challenge\",value:function(){return fetch(e.SERVER_URL+e.GET_CHALLENGE)}},{key:\"sendGuess\",value:function(t,n,a,r){new Headers({Authorization:\"0ZHJadMU0KI6\"});return E.a.post(e.SERVER_URL+e.POST_RESULT,{userAlias:t,factorA:n,factorB:a,guess:r},{headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\"}}).then((function(e){return e.json()})).catch((function(e){return{}}))}},{key:\"getAttempts\",value:function(t){return fetch(e.SERVER_URL+e.GET_ATTEMPTS_BY_ALIAS+t)}},{key:\"getUsers\",value:function(t){return fetch(e.SERVER_URL+e.GET_USERS_BY_IDS+\"/\"+t.join(\",\"))}}]),e}();f.SERVER_URL=\"http://localhost:8080\",f.GET_CHALLENGE=\"/challenges/random\",f.POST_RESULT=\"/attempts\",f.GET_ATTEMPTS_BY_ALIAS=\"/attempts?alias=\",f.GET_USERS_BY_IDS=\"/users\";var p=f,g=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:\"render\",value:function(){return a.createElement(\"table\",null,a.createElement(\"thead\",null,a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Challenge\"),a.createElement(\"th\",null,\"Your guess\"),a.createElement(\"th\",null,\"Correct\"))),a.createElement(\"tbody\",null,this.props.lastAttempts.map((function(e){return a.createElement(\"tr\",{key:e.id,style:{color:e.correct?\"green\":\"red\"}},a.createElement(\"td\",null,e.factorA,\" x \",e.factorB),a.createElement(\"td\",null,e.resultAttempt),a.createElement(\"td\",null,e.correct?\"Correct\":\"Incorrect (\"+e.factorA*e.factorB+\")\"))}))))}}]),n}(a.Component),v=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,null,[{key:\"leaderBoard\",value:function(){return fetch(e.SERVER_URL+e.GET_LEADERBOARD)}}]),e}();v.SERVER_URL=\"http://localhost:8081\",v.GET_LEADERBOARD=\"/leaders\";var b=v,y=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={leaderboard:[],serverError:!1},a}return Object(c.a)(n,[{key:\"componentDidMount\",value:function(){this.refreshLeaderBoard(),setInterval(this.refreshLeaderBoard.bind(this),5e3)}},{key:\"getLeaderBoardData\",value:function(){return b.leaderBoard().then((function(e){return e.ok?e.json():Promise.reject(\"Gamification: error response\")}))}},{key:\"getUserAliasData\",value:function(e){return p.getUsers(e).then((function(e){return e.ok?e.json():Promise.reject(\"Multiplication: error response\")}))}},{key:\"updateLeaderBoard\",value:function(e){this.setState({leaderboard:e,serverError:!1})}},{key:\"refreshLeaderBoard\",value:function(){var e=this;this.getLeaderBoardData().then((function(t){var n=t.map((function(e){return e.userId}));n.length>0&&e.getUserAliasData(n).then((function(n){var a=new Map;n.forEach((function(e){a.set(e.id,e.alias)})),t.forEach((function(e){return e.alias=a.get(e.userId)})),e.updateLeaderBoard(t)})).catch((function(n){console.log(\"Error mapping user ids\",n),e.updateLeaderBoard(t)}))})).catch((function(t){e.setState({serverError:!0}),console.log(\"Gamification server error\",t)}))}},{key:\"render\",value:function(){return this.state.serverError?a.createElement(\"div\",null,\"We're sorry, but we can't display game statistics at this moment.\"):a.createElement(\"div\",null,a.createElement(\"h3\",null,\"Leaderboard\"),a.createElement(\"table\",null,a.createElement(\"thead\",null,a.createElement(\"tr\",null,a.createElement(\"th\",null,\"User\"),a.createElement(\"th\",null,\"Score\"),a.createElement(\"th\",null,\"Badges\"))),a.createElement(\"tbody\",null,this.state.leaderboard.map((function(e){return a.createElement(\"tr\",{key:e.userId},a.createElement(\"td\",null,e.alias?e.alias:e.userId),a.createElement(\"td\",null,e.totalScore),a.createElement(\"td\",null,e.badges.map((function(e){return a.createElement(\"span\",{className:\"badge\",key:e},e)}))))})))))}}]),n}(a.Component),S=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={a:\"\",b:\"\",user:\"\",message:\"\",guess:0,lastAttempts:[]},a.handleSubmitResult=a.handleSubmitResult.bind(Object(i.a)(a)),a.handleChange=a.handleChange.bind(Object(i.a)(a)),a}return Object(c.a)(n,[{key:\"componentDidMount\",value:function(){this.refreshChallenge()}},{key:\"refreshChallenge\",value:function(){var e=this;p.challenge().then((function(t){t.ok?t.json().then((function(t){e.setState({a:t.factorA,b:t.factorB})})):e.updateMessage(\"Can't reach the server\")}))}},{key:\"handleChange\",value:function(e){var t=e.target.name;this.setState(Object(u.a)({},t,e.target.value))}},{key:\"handleSubmitResult\",value:function(e){var t=this;e.preventDefault(),p.sendGuess(this.state.user,this.state.a,this.state.b,this.state.guess).then((function(e){e.ok?e.json().then((function(e){e.correct?t.updateMessage(\"Congratulations! Your guess is correct\"):t.updateMessage(\"Oops! Your guess \"+e.resultAttempt+\" is wrong, but keep playing!\"),t.updateLastAttempts(t.state.user),t.refreshChallenge()})):t.updateMessage(\"Error: server error or not available\")}))}},{key:\"updateMessage\",value:function(e){this.setState({message:e})}},{key:\"updateLastAttempts\",value:function(e){var t=this;p.getAttempts(e).then((function(e){if(e.ok){var n=[];e.json().then((function(e){e.forEach((function(e){n.push(e)})),t.setState({lastAttempts:n})}))}}))}},{key:\"render\",value:function(){return a.createElement(\"div\",{className:\"display-column\"},a.createElement(\"div\",null,a.createElement(\"h3\",null,\"Your new challenge is\"),a.createElement(\"div\",{className:\"challenge\"},this.state.a,\" x \",this.state.b)),a.createElement(\"form\",{onSubmit:this.handleSubmitResult},a.createElement(\"label\",null,\"Your alias:\",a.createElement(\"input\",{type:\"text\",maxLength:\"12\",name:\"user\",value:this.state.user,onChange:this.handleChange})),a.createElement(\"br\",null),a.createElement(\"label\",null,\"Your guess:\",a.createElement(\"input\",{type:\"number\",min:\"0\",name:\"guess\",value:this.state.guess,onChange:this.handleChange})),a.createElement(\"br\",null),a.createElement(\"input\",{type:\"submit\",value:\"Submit\"})),a.createElement(\"h4\",null,this.state.message),this.state.lastAttempts.length>0&&a.createElement(g,{lastAttempts:this.state.lastAttempts}),a.createElement(y,null))}}]),n}(a.Component);var A=function(){return r.a.createElement(S,null)};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);","extractedComments":[]}